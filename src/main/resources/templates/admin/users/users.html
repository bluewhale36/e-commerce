<div th:replace="~{/fragments/container :: container(~{::main})}">
  <main>
    <script src="/js/admin/users.js" defer></script>
    <link rel="stylesheet" href="/css/admin/users.css" />
    <h3>Admin Users page</h3>
      <div class="mx-auto mt-3 row" id="div-main-content">
        <div class="col-12 my-3" style="text-align: center">
          <b>User Code</b> 를 클릭하여 사용자 상세 정보 조회
        </div>

        <div id="div-conditions" class="mb-3">
          <form action="/admin/users" method="get" class="row mb-0" id="form-conditions">
            <div class="col-2">
              <label for="select-search-type" class="form-label">Search Type</label>
              <select id="select-search-type" class="form-select" name="searchType">
                <th:block th:if="${contents.getSearchType() == 'email'}">
                  <option value="userId">User Id</option>
                  <option value="email" selected>Email</option>
                </th:block>
                <th:block th:if="${contents.getSearchType() == 'userId'}">
                  <option value="userId" selected>User Id</option>
                  <option value="email">Email</option>
                </th:block>
              </select>
            </div>
            <div class="col-4">
              <label for="text-search-keyword" class="form-label">Search Keyword</label>
              <input type="text" class="form-control" id="text-search-keyword" name="searchKeyword" placeholder="Search..."
                     th:value="${contents.getSearchKeyword()}" />
            </div>
            <div class="col-2">
              <label for="select-sorting-type" class="form-label">Sort Type</label>
              <select id="select-sorting-type" class="form-select" name="sortingType">
                <th:block th:if="${contents.getSortingType() == 'email'}">
                  <option value="userId">User Id</option>
                  <option value="userCode">User Code</option>
                  <option value="email" selected>Email</option>
                </th:block>
                <th:block th:if="${contents.getSortingType() == 'userCode'}">
                  <option value="userId">User Id</option>
                  <option value="userCode" selected>User Code</option>
                  <option value="email">Email</option>
                </th:block>
                <th:block th:if="${contents.getSortingType() == 'userId'}">
                  <option value="userId" selected>User Id</option>
                  <option value="userCode">User Code</option>
                  <option value="email">Email</option>
                </th:block>
              </select>
            </div>
            <div class="col-1">
              <input type="hidden" id="hidden-current-page" class="visible-hidden" name="pageNum" th:value="${contents.getCurrentPage()}" />
            </div>
            <div class="col-3 row">
              <button type="button" class="btn btn-secondary-outlined col" onclick="getNewSearch()">Search</button>
              <button type="button" class="btn btn-secondary-outlined col" onclick="re()">Reset</button>
            </div>
          </form>
        </div>

        <!-- 사용자 정보 렌더링 -->
        <div class="col-12 my-0">
          <table id="table-users">
            <thead>
            <tr>
              <th style="width: 35%" class="p-1">User Code</th>
              <th style="width: 10%" class="p-1">User Id</th>
              <th style="width: 25%" class="p-1">Email</th>
              <th style="width: 10%" class="p-1">Role</th>
              <th style="width: 10%" class="p-1">Is Enabled</th>
              <th style="width: 10%" class="p-1">Is Locked</th>
            </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <!-- 페이징 -->
        <div class="col-12 row mt-3 mb-1" id="div-paging">
          <button type="button" class="btn btn-secondary-outlined col-1" th:if="${contents.hasPrevious}" onclick="getPreviousPage(this)">Left</button>
          <button type="button" class="btn btn-secondary-outlined col-1" disabled th:unless="${contents.hasPrevious}">Left</button>

          <!-- 번호 출력 로직 수정 필요 -->
          <span class="col row" id="span-pages">
            <th:block th:each="p : ${#numbers.sequence(1, contents.getTotalPages())}">
              <span class="text-primary col" id="span-current-page" th:if="${p == contents.currentPage + 1}" th:text="${p}" onclick="goTo(this)"></span>
              <span class="text-secondary col" th:unless="${p == contents.currentPage + 1}" th:text="${p}" onclick="goTo(this)"></span>
            </th:block>
          </span>

          <button type="button" class="btn btn-secondary-outlined col-1" th:if="${contents.hasNext}" onclick="getNextPage(this)">Right</button>
          <button type="button" class="btn btn-secondary-outlined col-1" disabled th:unless="${contents.hasNext}">Right</button>
        </div>

      </div>
  </main>
</div>